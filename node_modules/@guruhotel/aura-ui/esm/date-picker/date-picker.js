import r,{useRef as e}from"react";import{useDatePickerState as o}from"@react-stately/datepicker";import{useDatePicker as i}from"@react-aria/datepicker";import{DateField as t}from"../date-field";import{FieldButton as a}from"./button";import{CircleExclamationSolid as d,CalendarRegular as m}from"../icons";import{DatePickerContainer as l}from"./date-picker.styles";import{Calendar as n}from"../calendar";import{Popover as s}from"./popover";import{ModalProvider as c}from"@react-aria/overlays";import{useTheme as p}from"../theme";import{Box as f}from"../box";import{jsx as u}from"react/jsx-runtime";import{jsxs as h}from"react/jsx-runtime";function b({colorScheme:r="guru",size:b="md",rounded:v="md",dateInvalidIcon:x,calendarIcon:P,...O}){const j=o(O),y=e(),{groupProps:z,fieldProps:S,buttonProps:g,dialogProps:k,calendarProps:I}=i(O,j,y),{theme:C}=p();return u(c,{children:h(l,{...z,ref:y,colorScheme:r,size:b,rounded:v,children:[u(t,{...S,label:O.label,colorScheme:"unstyled",rounded:v,size:b}),"invalid"===j.validationState&&u(f,{css:{mr:"$2"},children:x||u(d,{label:"Exclamation",color:null==C?void 0:C.colors.red11.value})}),u(a,{...g,isPressed:j.isOpen,rounded:v,children:P||u(m,{label:"Calendar"})}),j.isOpen&&u(s,{...k,isOpen:j.isOpen,onClose:()=>j.setOpen(!1),rounded:v,children:u(n,{...I,size:b,rounded:v})})]})})}export default b;