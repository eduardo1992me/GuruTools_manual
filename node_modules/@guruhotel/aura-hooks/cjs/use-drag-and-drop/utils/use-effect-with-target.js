var e=require("@babel/runtime/helpers/interopRequireDefault");exports.__esModule=!0,exports.default=void 0;var r=require("react"),t=e(require("./use-unmount")),u=e(require("./deps-are-same")),n=require("./dom-target");var c=(e,c,a)=>{const l=(0,r.useRef)(!1),s=(0,r.useRef)([]),f=(0,r.useRef)([]),o=(0,r.useRef)();(0,r.useEffect)((()=>{const r=(Array.isArray(a)?a:[a]).map((e=>(0,n.getTargetElement)(e)));if(!l.current)return l.current=!0,s.current=r,f.current=c,void(o.current=e());r.length===s.current.length&&(0,u.default)(r,s.current)&&(0,u.default)(c,f.current)||(null==o.current||o.current(),s.current=r,f.current=c,o.current=e())})),(0,t.default)((()=>{null==o.current||o.current(),l.current=!1}))};exports.default=c,module.exports=exports.default;